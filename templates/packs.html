{% extends "base.html" %}

{% block title %}Quiz Packs - QuizMaster{% endblock %}

{% block content %}
<div class="packs-bg">
    <div class="container">
        <div class="page-header">
            <h1>Select a Quiz Pack</h1>
            <p>Test your knowledge in various fields</p>
        </div>
        <div class="packs-grid">
            {% for pack in packs %}
            <div class="pack-card"> {# Main card for flexbox #}
                <div class="pack-content"> {# Wrap all content except footer for flexibility #}
                    <div class="pack-header">
                        <div class="pack-indicator {{ pack.color }}"></div>
                        <div class="difficulty-badge difficulty-{{ pack.difficulty }}">
                            {{ pack.difficulty }} {# This will display Easy, Medium, Hard, Expert #}
                        </div>
                    </div>
                    <h3>{{ pack.title }}</h3>
                    <p class="pack-description">{{ pack.description }}</p>
                    <div class="pack-info">
                        <div class="pack-stat">
                            <i class="fas fa-question-circle"></i>
                            {{ pack.questions | length }} questions
                        </div>
                        <div class="pack-stat">
                            <i class="fas fa-clock"></i>
                            ~{{ pack.time_to_complete_minutes }} min
                        </div>
                    </div>
                </div> {# End pack-content #}
                <div class="pack-footer"> {# Footer for the button #}
                    <a href="{{ url_for('quiz.quiz', pack_id=pack.id) }}" class="btn btn-primary btn-full">
                        Start Quiz
                    </a>
                </div>
            </div> {# End pack-card #}
            {% endfor %}
        </div>

        {% if current_user.is_authenticated and user_stats %}
        <div class="user-stats-card">
            <div class="stats-content">
                <i class="fas fa-trophy"></i>
                <h3>Your Statistics</h3>
                <p>Correct answers: {{ user_stats.total_correct_answers }} out of {{ user_stats.total_questions_answered }}</p>
                <p>Quizzes completed: {{ user_stats.total_games_played }}</p>
                <a href="{{ url_for('auth.profile') }}" class="btn btn-secondary">
                    Detailed Statistics
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}